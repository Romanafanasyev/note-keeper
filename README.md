# üìù note-keeper

## üìå –û–ø–∏—Å–∞–Ω–∏–µ
`note-keeper` ‚Äî —ç—Ç–æ Telegram-–±–æ—Ç –∏ –º–∏–Ω–∏-—Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É–¥–æ–±–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è, –∑–∞–≤—Ç—Ä–∞, –Ω–µ–¥–µ–ª—é –∏ –º–µ—Å—è—Ü.
–û–Ω –ø—É–±–ª–∏–∫—É–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –∫–∞–Ω–∞–ª, –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ SQLite, –∏–º–µ–µ—Ç –ø—Ä–æ—Å—Ç–æ–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏ –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è.
> –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å —É–ø–æ—Ä–æ–º –Ω–∞ **—á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**, **—Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** –∏ **–Ω–∞–¥—ë–∂–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É**, –∫–æ—Ç–æ—Ä–∞—è –æ–±–ª–µ–≥—á–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, ‚úèÔ∏è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ ‚ùå —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –∏–∑ —á–∞—Ç–∞  
- üìã –°–ø–∏—Å–∫–∏ –Ω–∞ **—Å–µ–≥–æ–¥–Ω—è / –Ω–µ–¥–µ–ª—é / –º–µ—Å—è—Ü** –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π  
- üîî –ê–≤—Ç–æ-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è **‚àí24 —á** –∏ **‚àí90 –º–∏–Ω**  
- üì¢ –ê–≤—Ç–æ-–ø–æ—Å—Ç—ã –≤ –∫–∞–Ω–∞–ª–µ (—Å–µ–≥–æ–¥–Ω—è, –∑–∞–≤—Ç—Ä–∞, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü)  
- üìÑ Docker-–æ–±—Ä–∞–∑, make-–∫–æ–º–∞–Ω–¥—ã, GitHub Actions, unit-—Ç–µ—Å—Ç—ã  
- üóÑÔ∏è –î–∞–Ω–Ω—ã–µ –∏ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤–æ –≤–Ω–µ—à–Ω–∏–π volume (`/opt/planbot`)

---

## üöÄ Quick Start (Docker)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç
git clone https://github.com/<your-nick>/note-keeper.git
cd note-keeper

# 2. –°–æ–∑–¥–∞—ë–º .env
cp .env.example .env          # –≤–ø–∏—à–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ id

# 3. –°–æ–±–∏—Ä–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º
make build        # docker build ‚Ä¶
make run          # python -m bot.main  (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏)

# –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞ VPS
docker run -d \
  --name planbot \
  --restart unless-stopped \
  --env-file /opt/planbot/.env \
  -v /opt/planbot/data:/app/data \
  -v /opt/planbot/logs:/app/logs \
  romaamor66/planbot:0.8
```
---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bot/
‚îú‚îÄ core/          ‚Äì singleton-–∫–æ–Ω—Ñ–∏–≥, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îú‚îÄ handlers/      ‚Äì —Ç–æ–Ω–∫–∏–µ Telegram-—Ö–µ–Ω–¥–ª–µ—Ä—ã (presentation layer)
‚îú‚îÄ services/      ‚Äì –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (service-layer, DTO)
‚îú‚îÄ repositories/  ‚Äì –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º (repository pattern)
‚îú‚îÄ models/        ‚Äì ORM-–º–æ–¥–µ–ª–∏ SQLAlchemy
‚îú‚îÄ scheduler/     ‚Äì APScheduler (cron + interval jobs)
‚îú‚îÄ utils/         ‚Äì –ª–æ–≥–≥–µ—Ä, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã, –ø–∞—Ä—Å–µ—Ä—ã
‚îî‚îÄ main.py        ‚Äì —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ DI-—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```

–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã


| –°–ª–æ–π              | –ü–∞—Ç—Ç–µ—Ä–Ω           | –†–æ–ª—å                               |
|-------------------|-------------------|------------------------------------|
| `core.config`     | Singleton         | –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫           |
| `handlers/*`      | Command           | –ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ - –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è |
| `services/*`      | Service Layer     | –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞       |
| `repositories/*`  | Repository        | –ê–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç SQL                   |
| `utils/logger.py` | Factory           | –°–æ–∑–¥–∞–µ—Ç –æ–±—â–∏–π Rotating Logger      |
| `scheduler/*`     | Scheduler/Adapter | –¢–æ–Ω–∫–∏–π –∞–¥–∞–ø—Ç–µ—Ä –Ω–∞–¥ APScheduler     |

*–ë–ª–∞–≥–æ–¥–∞—Ä—è —Ç–∞–∫–æ–º—É —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é –∫–æ–¥ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å.*

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è


| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ                                  |
|------------|-------------------------------------------|
| BOT_TOKEN  | –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞                       |
| CHANNEL_ID | ID –∫–∞–Ω–∞–ª–∞/—á–∞—Ç–∞ –¥–ª—è –ø–æ—Å—Ç–æ–≤                 |
| USER_ID    | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ª–∏—á–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π    |
| TZ*        | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `Europe/Moscow`) |

* `TZ` –±–µ—Ä—ë—Ç—Å—è –∏–∑ `.env`; –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Europe/Moscow`.

---

## üõ†Ô∏è Make-–∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞       | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                     |
|---------------|--------------------------------|
| `make dev`    | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ           |
| `make format` | `black + isort + flake8`       |
| `make test`   | PyTest —Å in-memory SQLite      |
| `make bump`   | `–ê–≤—Ç–æ-–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç —Ñ–∞–π–ª–∞ VERSION` |
| `make build`  | –ó–∞–ø—É—à–∏—Ç—å –æ–±—Ä–∞–∑ –≤ Docker Hub    |
| `make deploy` | CI                             |

---

## üí¨ –í–∫–ª–∞–¥

PR –∏ issue ‚Äî **welcome**.
–ï—Å–ª–∏ –Ω–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ –µ—Å—Ç—å –∏–¥–µ—è —É–ª—É—á—à–µ–Ω–∏—è ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–∏–∫–µ—Ç –∏–ª–∏ –ø—Ä–∏—Å—ã–ª–∞–π—Ç–µ pull-request.



